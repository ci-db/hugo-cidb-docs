

{{- $root :=  partial "doc/helper/get-doc-root" . -}}
{{- partial "breadcrumb" (dict  "root" $root "current" . ) -}}

{{- /* Aktionbar  */ -}}
{{- $count := 0 -}}
{{- range $index, $element :=  where .Pages "Type" "doc/pdf" -}}
{{-   $count = add $index 1 -}}
{{- end -}}
{{- if ne $count 0 -}}
<div class="main-actions">
    <ul class="nav justify-content-end">
{{-   range where .Pages "Type" "doc/pdf" -}}
        <li class="nav-item"><a href="pdf/" target="_blank">Print Vorschau</a></li>
{{-   end -}}
    </ul>
</div>
{{- end -}}
{{ $page := . }}
{{- if isset .Params "content_from" -}}            
{{- $page := .Site.GetPage .Params.content_from -}}
{{- end -}}
<h1>{{ $page.Title }}</h1>
{{ $page.TableOfContents }}
{{- if ne $page ".Description" "" -}}
{{ $page.Description }}
{{ end }}
{{- $page.Content -}}  

{{- define "scripts" -}}
<script>
    /*
              $( document ).ready(function() {
                  $(window).on('popstate', function() {
                          loadContent(location.pathname);
                  });
  
                  function loadContent(url) {
                          $('#main').load(url + ' #main');
                  }
  
                  $( ".ajax-call" ).click(function(event) {
                          var This = this;
                          var url = $(this).attr('href');
                          event.preventDefault();
                          $( "#content" ).load( url + ' #content', function(data, ret) {
                             if (ret == 'success') {                 
                                  $(".side-menu .ajax-call").removeClass( "active" );
                                  $(This).addClass( "active" );
  
                                  history.pushState({}, "", url);
  
                             }
                          });
  
  
                    
                        //  console.log($(this).attr('href'));
                        //  $("#content").load($(this).attr('href') + ' #content');
                          
                         // console.log("etst");
                    });
              });
  */
          </script>
{{- end -}}
